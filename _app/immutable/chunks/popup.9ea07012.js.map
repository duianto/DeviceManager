{"version":3,"file":"popup.9ea07012.js","sources":["../../../../../../src/lib/popup.ts"],"sourcesContent":["import tippy from \"tippy.js\"\nimport type {Action} from \"svelte/action\"\nimport type {ComponentType, SvelteComponent} from \"svelte\"\n\nexport const popup: Action<HTMLButtonElement, ComponentType> = (node, Component) => {\n  let component: SvelteComponent | undefined\n  let target: HTMLElement | undefined\n  const edit = tippy(node, {\n    interactive: true,\n    trigger: \"click\",\n    onShow(instance) {\n      target = instance.popper.querySelector(\".tippy-content\") as HTMLElement\n      target.classList.add(\"active\")\n      component ??= new Component({target})\n    },\n    onHidden() {\n      component?.$destroy()\n      target?.classList.remove(\"active\")\n      component = undefined\n    },\n  })\n\n  return {\n    destroy() {\n      edit.destroy()\n    },\n  }\n}\n"],"names":["popup","node","Component","component","target","edit","tippy","instance"],"mappings":"4CAIa,MAAAA,EAAkD,CAACC,EAAMC,IAAc,CAC9E,IAAAC,EACAC,EACE,MAAAC,EAAOC,EAAML,EAAM,CACvB,YAAa,GACb,QAAS,QACT,OAAOM,EAAU,CACNH,EAAAG,EAAS,OAAO,cAAc,gBAAgB,EAChDH,EAAA,UAAU,IAAI,QAAQ,EAC7BD,IAAc,IAAID,EAAU,CAAC,OAAAE,CAAO,CAAA,CACtC,EACA,UAAW,CACTD,GAAW,SAAS,EACZC,GAAA,UAAU,OAAO,QAAQ,EACrBD,EAAA,MACd,CAAA,CACD,EAEM,MAAA,CACL,SAAU,CACRE,EAAK,QAAQ,CACf,CAAA,CAEJ"}