import{k as Qr,d as Zr,c as en,b as tn}from"./connection.d00f3c10.js";import{d as vt,w as rn}from"./index.c4cb2da7.js";import{a as qt}from"./keymap-codes.618d0a5c.js";import{s as nn,a as an,e as zt,c as on,i as Ve,y as Xt,d as ve,f as jt,H as sn,g as Bt,h as Rt,D as fn,j as un,K as cn,l as ln,m as pn,v as dn,n as vn,r as mn}from"./scheduler.780b4b73.js";import{e as Yt}from"./each.75920ee7.js";import{S as hn,i as gn}from"./index.2808127b.js";var V="top",Y="bottom",J="right",W="left",_t="auto",ze=[V,Y,J,W],Le="start",We="end",yn="clippingParents",Er="viewport",He="popper",bn="reference",Jt=ze.reduce(function(e,t){return e.concat([t+"-"+Le,t+"-"+We])},[]),Ar=[].concat(ze,[_t]).reduce(function(e,t){return e.concat([t,t+"-"+Le,t+"-"+We])},[]),wn="beforeRead",On="read",xn="afterRead",En="beforeMain",An="main",Tn="afterMain",Cn="beforeWrite",Dn="write",Sn="afterWrite",Ln=[wn,On,xn,En,An,Tn,Cn,Dn,Sn];function ae(e){return e?(e.nodeName||"").toLowerCase():null}function q(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function xe(e){var t=q(e).Element;return e instanceof t||e instanceof Element}function X(e){var t=q(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Kt(e){if(typeof ShadowRoot>"u")return!1;var t=q(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Mn(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var n=t.styles[r]||{},i=t.attributes[r]||{},a=t.elements[r];!X(a)||!ae(a)||(Object.assign(a.style,n),Object.keys(i).forEach(function(s){var u=i[s];u===!1?a.removeAttribute(s):a.setAttribute(s,u===!0?"":u)}))})}function kn(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(n){var i=t.elements[n],a=t.attributes[n]||{},s=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:r[n]),u=s.reduce(function(c,p){return c[p]="",c},{});!X(i)||!ae(i)||(Object.assign(i.style,u),Object.keys(a).forEach(function(c){i.removeAttribute(c)}))})}}const Tr={name:"applyStyles",enabled:!0,phase:"write",fn:Mn,effect:kn,requires:["computeStyles"]};function ie(e){return e.split("-")[0]}var Oe=Math.max,pt=Math.min,Me=Math.round;function St(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Cr(){return!/^((?!chrome|android).)*safari/i.test(St())}function ke(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),i=1,a=1;t&&X(e)&&(i=e.offsetWidth>0&&Me(n.width)/e.offsetWidth||1,a=e.offsetHeight>0&&Me(n.height)/e.offsetHeight||1);var s=xe(e)?q(e):window,u=s.visualViewport,c=!Cr()&&r,p=(n.left+(c&&u?u.offsetLeft:0))/i,l=(n.top+(c&&u?u.offsetTop:0))/a,g=n.width/i,w=n.height/a;return{width:g,height:w,top:l,right:p+g,bottom:l+w,left:p,x:p,y:l}}function Ht(e){var t=ke(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function Dr(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&Kt(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function le(e){return q(e).getComputedStyle(e)}function Pn(e){return["table","td","th"].indexOf(ae(e))>=0}function me(e){return((xe(e)?e.ownerDocument:e.document)||window.document).documentElement}function mt(e){return ae(e)==="html"?e:e.assignedSlot||e.parentNode||(Kt(e)?e.host:null)||me(e)}function Gt(e){return!X(e)||le(e).position==="fixed"?null:e.offsetParent}function jn(e){var t=/firefox/i.test(St()),r=/Trident/i.test(St());if(r&&X(e)){var n=le(e);if(n.position==="fixed")return null}var i=mt(e);for(Kt(i)&&(i=i.host);X(i)&&["html","body"].indexOf(ae(i))<0;){var a=le(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||t&&a.willChange==="filter"||t&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function Xe(e){for(var t=q(e),r=Gt(e);r&&Pn(r)&&le(r).position==="static";)r=Gt(r);return r&&(ae(r)==="html"||ae(r)==="body"&&le(r).position==="static")?t:r||jn(e)||t}function Nt(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Ne(e,t,r){return Oe(e,pt(t,r))}function Bn(e,t,r){var n=Ne(e,t,r);return n>r?r:n}function Sr(){return{top:0,right:0,bottom:0,left:0}}function Lr(e){return Object.assign({},Sr(),e)}function Mr(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var Rn=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,Lr(typeof t!="number"?t:Mr(t,ze))};function _n(e){var t,r=e.state,n=e.name,i=e.options,a=r.elements.arrow,s=r.modifiersData.popperOffsets,u=ie(r.placement),c=Nt(u),p=[W,J].indexOf(u)>=0,l=p?"height":"width";if(!(!a||!s)){var g=Rn(i.padding,r),w=Ht(a),m=c==="y"?V:W,y=c==="y"?Y:J,b=r.rects.reference[l]+r.rects.reference[c]-s[c]-r.rects.popper[l],O=s[c]-r.rects.reference[c],A=Xe(a),C=A?c==="y"?A.clientHeight||0:A.clientWidth||0:0,L=b/2-O/2,o=g[m],E=C-w[l]-g[y],v=C/2-w[l]/2+L,S=Ne(o,v,E),R=c;r.modifiersData[n]=(t={},t[R]=S,t.centerOffset=S-v,t)}}function Kn(e){var t=e.state,r=e.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||Dr(t.elements.popper,i)&&(t.elements.arrow=i))}const Hn={name:"arrow",enabled:!0,phase:"main",fn:_n,effect:Kn,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Pe(e){return e.split("-")[1]}var Nn={top:"auto",right:"auto",bottom:"auto",left:"auto"};function $n(e,t){var r=e.x,n=e.y,i=t.devicePixelRatio||1;return{x:Me(r*i)/i||0,y:Me(n*i)/i||0}}function Qt(e){var t,r=e.popper,n=e.popperRect,i=e.placement,a=e.variation,s=e.offsets,u=e.position,c=e.gpuAcceleration,p=e.adaptive,l=e.roundOffsets,g=e.isFixed,w=s.x,m=w===void 0?0:w,y=s.y,b=y===void 0?0:y,O=typeof l=="function"?l({x:m,y:b}):{x:m,y:b};m=O.x,b=O.y;var A=s.hasOwnProperty("x"),C=s.hasOwnProperty("y"),L=W,o=V,E=window;if(p){var v=Xe(r),S="clientHeight",R="clientWidth";if(v===q(r)&&(v=me(r),le(v).position!=="static"&&u==="absolute"&&(S="scrollHeight",R="scrollWidth")),v=v,i===V||(i===W||i===J)&&a===We){o=Y;var B=g&&v===E&&E.visualViewport?E.visualViewport.height:v[S];b-=B-n.height,b*=c?1:-1}if(i===W||(i===V||i===Y)&&a===We){L=J;var k=g&&v===E&&E.visualViewport?E.visualViewport.width:v[R];m-=k-n.width,m*=c?1:-1}}var _=Object.assign({position:u},p&&Nn),P=l===!0?$n({x:m,y:b},q(r)):{x:m,y:b};if(m=P.x,b=P.y,c){var M;return Object.assign({},_,(M={},M[o]=C?"0":"",M[L]=A?"0":"",M.transform=(E.devicePixelRatio||1)<=1?"translate("+m+"px, "+b+"px)":"translate3d("+m+"px, "+b+"px, 0)",M))}return Object.assign({},_,(t={},t[o]=C?b+"px":"",t[L]=A?m+"px":"",t.transform="",t))}function In(e){var t=e.state,r=e.options,n=r.gpuAcceleration,i=n===void 0?!0:n,a=r.adaptive,s=a===void 0?!0:a,u=r.roundOffsets,c=u===void 0?!0:u,p={placement:ie(t.placement),variation:Pe(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Qt(Object.assign({},p,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Qt(Object.assign({},p,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const Vn={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:In,data:{}};var ft={passive:!0};function Wn(e){var t=e.state,r=e.instance,n=e.options,i=n.scroll,a=i===void 0?!0:i,s=n.resize,u=s===void 0?!0:s,c=q(t.elements.popper),p=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&p.forEach(function(l){l.addEventListener("scroll",r.update,ft)}),u&&c.addEventListener("resize",r.update,ft),function(){a&&p.forEach(function(l){l.removeEventListener("scroll",r.update,ft)}),u&&c.removeEventListener("resize",r.update,ft)}}const Un={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Wn,data:{}};var Fn={left:"right",right:"left",bottom:"top",top:"bottom"};function lt(e){return e.replace(/left|right|bottom|top/g,function(t){return Fn[t]})}var qn={start:"end",end:"start"};function Zt(e){return e.replace(/start|end/g,function(t){return qn[t]})}function $t(e){var t=q(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function It(e){return ke(me(e)).left+$t(e).scrollLeft}function zn(e,t){var r=q(e),n=me(e),i=r.visualViewport,a=n.clientWidth,s=n.clientHeight,u=0,c=0;if(i){a=i.width,s=i.height;var p=Cr();(p||!p&&t==="fixed")&&(u=i.offsetLeft,c=i.offsetTop)}return{width:a,height:s,x:u+It(e),y:c}}function Xn(e){var t,r=me(e),n=$t(e),i=(t=e.ownerDocument)==null?void 0:t.body,a=Oe(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=Oe(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),u=-n.scrollLeft+It(e),c=-n.scrollTop;return le(i||r).direction==="rtl"&&(u+=Oe(r.clientWidth,i?i.clientWidth:0)-a),{width:a,height:s,x:u,y:c}}function Vt(e){var t=le(e),r=t.overflow,n=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function kr(e){return["html","body","#document"].indexOf(ae(e))>=0?e.ownerDocument.body:X(e)&&Vt(e)?e:kr(mt(e))}function $e(e,t){var r;t===void 0&&(t=[]);var n=kr(e),i=n===((r=e.ownerDocument)==null?void 0:r.body),a=q(n),s=i?[a].concat(a.visualViewport||[],Vt(n)?n:[]):n,u=t.concat(s);return i?u:u.concat($e(mt(s)))}function Lt(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Yn(e,t){var r=ke(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function er(e,t,r){return t===Er?Lt(zn(e,r)):xe(t)?Yn(t,r):Lt(Xn(me(e)))}function Jn(e){var t=$e(mt(e)),r=["absolute","fixed"].indexOf(le(e).position)>=0,n=r&&X(e)?Xe(e):e;return xe(n)?t.filter(function(i){return xe(i)&&Dr(i,n)&&ae(i)!=="body"}):[]}function Gn(e,t,r,n){var i=t==="clippingParents"?Jn(e):[].concat(t),a=[].concat(i,[r]),s=a[0],u=a.reduce(function(c,p){var l=er(e,p,n);return c.top=Oe(l.top,c.top),c.right=pt(l.right,c.right),c.bottom=pt(l.bottom,c.bottom),c.left=Oe(l.left,c.left),c},er(e,s,n));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function Pr(e){var t=e.reference,r=e.element,n=e.placement,i=n?ie(n):null,a=n?Pe(n):null,s=t.x+t.width/2-r.width/2,u=t.y+t.height/2-r.height/2,c;switch(i){case V:c={x:s,y:t.y-r.height};break;case Y:c={x:s,y:t.y+t.height};break;case J:c={x:t.x+t.width,y:u};break;case W:c={x:t.x-r.width,y:u};break;default:c={x:t.x,y:t.y}}var p=i?Nt(i):null;if(p!=null){var l=p==="y"?"height":"width";switch(a){case Le:c[p]=c[p]-(t[l]/2-r[l]/2);break;case We:c[p]=c[p]+(t[l]/2-r[l]/2);break}}return c}function Ue(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=n===void 0?e.placement:n,a=r.strategy,s=a===void 0?e.strategy:a,u=r.boundary,c=u===void 0?yn:u,p=r.rootBoundary,l=p===void 0?Er:p,g=r.elementContext,w=g===void 0?He:g,m=r.altBoundary,y=m===void 0?!1:m,b=r.padding,O=b===void 0?0:b,A=Lr(typeof O!="number"?O:Mr(O,ze)),C=w===He?bn:He,L=e.rects.popper,o=e.elements[y?C:w],E=Gn(xe(o)?o:o.contextElement||me(e.elements.popper),c,l,s),v=ke(e.elements.reference),S=Pr({reference:v,element:L,strategy:"absolute",placement:i}),R=Lt(Object.assign({},L,S)),B=w===He?R:v,k={top:E.top-B.top+A.top,bottom:B.bottom-E.bottom+A.bottom,left:E.left-B.left+A.left,right:B.right-E.right+A.right},_=e.modifiersData.offset;if(w===He&&_){var P=_[i];Object.keys(k).forEach(function(M){var U=[J,Y].indexOf(M)>=0?1:-1,F=[V,Y].indexOf(M)>=0?"y":"x";k[M]+=P[F]*U})}return k}function Qn(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=r.boundary,a=r.rootBoundary,s=r.padding,u=r.flipVariations,c=r.allowedAutoPlacements,p=c===void 0?Ar:c,l=Pe(n),g=l?u?Jt:Jt.filter(function(y){return Pe(y)===l}):ze,w=g.filter(function(y){return p.indexOf(y)>=0});w.length===0&&(w=g);var m=w.reduce(function(y,b){return y[b]=Ue(e,{placement:b,boundary:i,rootBoundary:a,padding:s})[ie(b)],y},{});return Object.keys(m).sort(function(y,b){return m[y]-m[b]})}function Zn(e){if(ie(e)===_t)return[];var t=lt(e);return[Zt(e),t,Zt(t)]}function ei(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var i=r.mainAxis,a=i===void 0?!0:i,s=r.altAxis,u=s===void 0?!0:s,c=r.fallbackPlacements,p=r.padding,l=r.boundary,g=r.rootBoundary,w=r.altBoundary,m=r.flipVariations,y=m===void 0?!0:m,b=r.allowedAutoPlacements,O=t.options.placement,A=ie(O),C=A===O,L=c||(C||!y?[lt(O)]:Zn(O)),o=[O].concat(L).reduce(function(se,G){return se.concat(ie(G)===_t?Qn(t,{placement:G,boundary:l,rootBoundary:g,padding:p,flipVariations:y,allowedAutoPlacements:b}):G)},[]),E=t.rects.reference,v=t.rects.popper,S=new Map,R=!0,B=o[0],k=0;k<o.length;k++){var _=o[k],P=ie(_),M=Pe(_)===Le,U=[V,Y].indexOf(P)>=0,F=U?"width":"height",N=Ue(t,{placement:_,boundary:l,rootBoundary:g,altBoundary:w,padding:p}),$=U?M?J:W:M?Y:V;E[F]>v[F]&&($=lt($));var K=lt($),Z=[];if(a&&Z.push(N[P]<=0),u&&Z.push(N[$]<=0,N[K]<=0),Z.every(function(se){return se})){B=_,R=!1;break}S.set(_,Z)}if(R)for(var ee=y?3:1,he=function(G){var fe=o.find(function(Ee){var ue=S.get(Ee);if(ue)return ue.slice(0,G).every(function(Ae){return Ae})});if(fe)return B=fe,"break"},te=ee;te>0;te--){var ge=he(te);if(ge==="break")break}t.placement!==B&&(t.modifiersData[n]._skip=!0,t.placement=B,t.reset=!0)}}const ti={name:"flip",enabled:!0,phase:"main",fn:ei,requiresIfExists:["offset"],data:{_skip:!1}};function tr(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function rr(e){return[V,J,Y,W].some(function(t){return e[t]>=0})}function ri(e){var t=e.state,r=e.name,n=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,s=Ue(t,{elementContext:"reference"}),u=Ue(t,{altBoundary:!0}),c=tr(s,n),p=tr(u,i,a),l=rr(c),g=rr(p);t.modifiersData[r]={referenceClippingOffsets:c,popperEscapeOffsets:p,isReferenceHidden:l,hasPopperEscaped:g},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":g})}const ni={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:ri};function ii(e,t,r){var n=ie(e),i=[W,V].indexOf(n)>=0?-1:1,a=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,s=a[0],u=a[1];return s=s||0,u=(u||0)*i,[W,J].indexOf(n)>=0?{x:u,y:s}:{x:s,y:u}}function ai(e){var t=e.state,r=e.options,n=e.name,i=r.offset,a=i===void 0?[0,0]:i,s=Ar.reduce(function(l,g){return l[g]=ii(g,t.rects,a),l},{}),u=s[t.placement],c=u.x,p=u.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=p),t.modifiersData[n]=s}const oi={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:ai};function si(e){var t=e.state,r=e.name;t.modifiersData[r]=Pr({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const fi={name:"popperOffsets",enabled:!0,phase:"read",fn:si,data:{}};function ui(e){return e==="x"?"y":"x"}function ci(e){var t=e.state,r=e.options,n=e.name,i=r.mainAxis,a=i===void 0?!0:i,s=r.altAxis,u=s===void 0?!1:s,c=r.boundary,p=r.rootBoundary,l=r.altBoundary,g=r.padding,w=r.tether,m=w===void 0?!0:w,y=r.tetherOffset,b=y===void 0?0:y,O=Ue(t,{boundary:c,rootBoundary:p,padding:g,altBoundary:l}),A=ie(t.placement),C=Pe(t.placement),L=!C,o=Nt(A),E=ui(o),v=t.modifiersData.popperOffsets,S=t.rects.reference,R=t.rects.popper,B=typeof b=="function"?b(Object.assign({},t.rects,{placement:t.placement})):b,k=typeof B=="number"?{mainAxis:B,altAxis:B}:Object.assign({mainAxis:0,altAxis:0},B),_=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,P={x:0,y:0};if(v){if(a){var M,U=o==="y"?V:W,F=o==="y"?Y:J,N=o==="y"?"height":"width",$=v[o],K=$+O[U],Z=$-O[F],ee=m?-R[N]/2:0,he=C===Le?S[N]:R[N],te=C===Le?-R[N]:-S[N],ge=t.elements.arrow,se=m&&ge?Ht(ge):{width:0,height:0},G=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Sr(),fe=G[U],Ee=G[F],ue=Ne(0,S[N],se[N]),Ae=L?S[N]/2-ee-ue-fe-k.mainAxis:he-ue-fe-k.mainAxis,pe=L?-S[N]/2+ee+ue+Ee+k.mainAxis:te+ue+Ee+k.mainAxis,Te=t.elements.arrow&&Xe(t.elements.arrow),Ge=Te?o==="y"?Te.clientTop||0:Te.clientLeft||0:0,je=(M=_?.[o])!=null?M:0,Qe=$+Ae-je-Ge,Ze=$+pe-je,Be=Ne(m?pt(K,Qe):K,$,m?Oe(Z,Ze):Z);v[o]=Be,P[o]=Be-$}if(u){var Re,et=o==="x"?V:W,tt=o==="x"?Y:J,ce=v[E],de=E==="y"?"height":"width",_e=ce+O[et],ye=ce-O[tt],Ke=[V,W].indexOf(A)!==-1,rt=(Re=_?.[E])!=null?Re:0,nt=Ke?_e:ce-S[de]-R[de]-rt+k.altAxis,it=Ke?ce+S[de]+R[de]-rt-k.altAxis:ye,at=m&&Ke?Bn(nt,ce,it):Ne(m?nt:_e,ce,m?it:ye);v[E]=at,P[E]=at-ce}t.modifiersData[n]=P}}const li={name:"preventOverflow",enabled:!0,phase:"main",fn:ci,requiresIfExists:["offset"]};function pi(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function di(e){return e===q(e)||!X(e)?$t(e):pi(e)}function vi(e){var t=e.getBoundingClientRect(),r=Me(t.width)/e.offsetWidth||1,n=Me(t.height)/e.offsetHeight||1;return r!==1||n!==1}function mi(e,t,r){r===void 0&&(r=!1);var n=X(t),i=X(t)&&vi(t),a=me(t),s=ke(e,i,r),u={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(n||!n&&!r)&&((ae(t)!=="body"||Vt(a))&&(u=di(t)),X(t)?(c=ke(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):a&&(c.x=It(a))),{x:s.left+u.scrollLeft-c.x,y:s.top+u.scrollTop-c.y,width:s.width,height:s.height}}function hi(e){var t=new Map,r=new Set,n=[];e.forEach(function(a){t.set(a.name,a)});function i(a){r.add(a.name);var s=[].concat(a.requires||[],a.requiresIfExists||[]);s.forEach(function(u){if(!r.has(u)){var c=t.get(u);c&&i(c)}}),n.push(a)}return e.forEach(function(a){r.has(a.name)||i(a)}),n}function gi(e){var t=hi(e);return Ln.reduce(function(r,n){return r.concat(t.filter(function(i){return i.phase===n}))},[])}function yi(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function bi(e){var t=e.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var nr={placement:"bottom",modifiers:[],strategy:"absolute"};function ir(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function wi(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,i=t.defaultOptions,a=i===void 0?nr:i;return function(u,c,p){p===void 0&&(p=a);var l={placement:"bottom",orderedModifiers:[],options:Object.assign({},nr,a),modifiersData:{},elements:{reference:u,popper:c},attributes:{},styles:{}},g=[],w=!1,m={state:l,setOptions:function(A){var C=typeof A=="function"?A(l.options):A;b(),l.options=Object.assign({},a,l.options,C),l.scrollParents={reference:xe(u)?$e(u):u.contextElement?$e(u.contextElement):[],popper:$e(c)};var L=gi(bi([].concat(n,l.options.modifiers)));return l.orderedModifiers=L.filter(function(o){return o.enabled}),y(),m.update()},forceUpdate:function(){if(!w){var A=l.elements,C=A.reference,L=A.popper;if(ir(C,L)){l.rects={reference:mi(C,Xe(L),l.options.strategy==="fixed"),popper:Ht(L)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach(function(k){return l.modifiersData[k.name]=Object.assign({},k.data)});for(var o=0;o<l.orderedModifiers.length;o++){if(l.reset===!0){l.reset=!1,o=-1;continue}var E=l.orderedModifiers[o],v=E.fn,S=E.options,R=S===void 0?{}:S,B=E.name;typeof v=="function"&&(l=v({state:l,options:R,name:B,instance:m})||l)}}}},update:yi(function(){return new Promise(function(O){m.forceUpdate(),O(l)})}),destroy:function(){b(),w=!0}};if(!ir(u,c))return m;m.setOptions(p).then(function(O){!w&&p.onFirstUpdate&&p.onFirstUpdate(O)});function y(){l.orderedModifiers.forEach(function(O){var A=O.name,C=O.options,L=C===void 0?{}:C,o=O.effect;if(typeof o=="function"){var E=o({state:l,name:A,instance:m,options:L}),v=function(){};g.push(E||v)}})}function b(){g.forEach(function(O){return O()}),g=[]}return m}}var Oi=[Un,fi,Vn,Tr,oi,ti,li,Hn,ni],xi=wi({defaultModifiers:Oi}),Ei="tippy-box",jr="tippy-content",Ai="tippy-backdrop",Br="tippy-arrow",Rr="tippy-svg-arrow",we={passive:!0,capture:!0},_r=function(){return document.body};function bt(e,t,r){if(Array.isArray(e)){var n=e[t];return n??(Array.isArray(r)?r[t]:r)}return e}function Wt(e,t){var r={}.toString.call(e);return r.indexOf("[object")===0&&r.indexOf(t+"]")>-1}function Kr(e,t){return typeof e=="function"?e.apply(void 0,t):e}function ar(e,t){if(t===0)return e;var r;return function(n){clearTimeout(r),r=setTimeout(function(){e(n)},t)}}function Ti(e){return e.split(/\s+/).filter(Boolean)}function Se(e){return[].concat(e)}function or(e,t){e.indexOf(t)===-1&&e.push(t)}function Ci(e){return e.filter(function(t,r){return e.indexOf(t)===r})}function Di(e){return e.split("-")[0]}function dt(e){return[].slice.call(e)}function sr(e){return Object.keys(e).reduce(function(t,r){return e[r]!==void 0&&(t[r]=e[r]),t},{})}function Ie(){return document.createElement("div")}function ht(e){return["Element","Fragment"].some(function(t){return Wt(e,t)})}function Si(e){return Wt(e,"NodeList")}function Li(e){return Wt(e,"MouseEvent")}function Mi(e){return!!(e&&e._tippy&&e._tippy.reference===e)}function ki(e){return ht(e)?[e]:Si(e)?dt(e):Array.isArray(e)?e:dt(document.querySelectorAll(e))}function wt(e,t){e.forEach(function(r){r&&(r.style.transitionDuration=t+"ms")})}function fr(e,t){e.forEach(function(r){r&&r.setAttribute("data-state",t)})}function Pi(e){var t,r=Se(e),n=r[0];return n!=null&&(t=n.ownerDocument)!=null&&t.body?n.ownerDocument:document}function ji(e,t){var r=t.clientX,n=t.clientY;return e.every(function(i){var a=i.popperRect,s=i.popperState,u=i.props,c=u.interactiveBorder,p=Di(s.placement),l=s.modifiersData.offset;if(!l)return!0;var g=p==="bottom"?l.top.y:0,w=p==="top"?l.bottom.y:0,m=p==="right"?l.left.x:0,y=p==="left"?l.right.x:0,b=a.top-n+g>c,O=n-a.bottom-w>c,A=a.left-r+m>c,C=r-a.right-y>c;return b||O||A||C})}function Ot(e,t,r){var n=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){e[n](i,r)})}function ur(e,t){for(var r=t;r;){var n;if(e.contains(r))return!0;r=r.getRootNode==null||(n=r.getRootNode())==null?void 0:n.host}return!1}var re={isTouch:!1},cr=0;function Bi(){re.isTouch||(re.isTouch=!0,window.performance&&document.addEventListener("mousemove",Hr))}function Hr(){var e=performance.now();e-cr<20&&(re.isTouch=!1,document.removeEventListener("mousemove",Hr)),cr=e}function Ri(){var e=document.activeElement;if(Mi(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}function _i(){document.addEventListener("touchstart",Bi,we),window.addEventListener("blur",Ri)}var Ki=typeof window<"u"&&typeof document<"u",Hi=Ki?!!window.msCrypto:!1,Ni={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},$i={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Q=Object.assign({appendTo:_r,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Ni,$i),Ii=Object.keys(Q),Vi=function(t){var r=Object.keys(t);r.forEach(function(n){Q[n]=t[n]})};function Nr(e){var t=e.plugins||[],r=t.reduce(function(n,i){var a=i.name,s=i.defaultValue;if(a){var u;n[a]=e[a]!==void 0?e[a]:(u=Q[a])!=null?u:s}return n},{});return Object.assign({},e,r)}function Wi(e,t){var r=t?Object.keys(Nr(Object.assign({},Q,{plugins:t}))):Ii,n=r.reduce(function(i,a){var s=(e.getAttribute("data-tippy-"+a)||"").trim();if(!s)return i;if(a==="content")i[a]=s;else try{i[a]=JSON.parse(s)}catch{i[a]=s}return i},{});return n}function lr(e,t){var r=Object.assign({},t,{content:Kr(t.content,[e])},t.ignoreAttributes?{}:Wi(e,t.plugins));return r.aria=Object.assign({},Q.aria,r.aria),r.aria={expanded:r.aria.expanded==="auto"?t.interactive:r.aria.expanded,content:r.aria.content==="auto"?t.interactive?null:"describedby":r.aria.content},r}var Ui=function(){return"innerHTML"};function Mt(e,t){e[Ui()]=t}function pr(e){var t=Ie();return e===!0?t.className=Br:(t.className=Rr,ht(e)?t.appendChild(e):Mt(t,e)),t}function dr(e,t){ht(t.content)?(Mt(e,""),e.appendChild(t.content)):typeof t.content!="function"&&(t.allowHTML?Mt(e,t.content):e.textContent=t.content)}function kt(e){var t=e.firstElementChild,r=dt(t.children);return{box:t,content:r.find(function(n){return n.classList.contains(jr)}),arrow:r.find(function(n){return n.classList.contains(Br)||n.classList.contains(Rr)}),backdrop:r.find(function(n){return n.classList.contains(Ai)})}}function $r(e){var t=Ie(),r=Ie();r.className=Ei,r.setAttribute("data-state","hidden"),r.setAttribute("tabindex","-1");var n=Ie();n.className=jr,n.setAttribute("data-state","hidden"),dr(n,e.props),t.appendChild(r),r.appendChild(n),i(e.props,e.props);function i(a,s){var u=kt(t),c=u.box,p=u.content,l=u.arrow;s.theme?c.setAttribute("data-theme",s.theme):c.removeAttribute("data-theme"),typeof s.animation=="string"?c.setAttribute("data-animation",s.animation):c.removeAttribute("data-animation"),s.inertia?c.setAttribute("data-inertia",""):c.removeAttribute("data-inertia"),c.style.maxWidth=typeof s.maxWidth=="number"?s.maxWidth+"px":s.maxWidth,s.role?c.setAttribute("role",s.role):c.removeAttribute("role"),(a.content!==s.content||a.allowHTML!==s.allowHTML)&&dr(p,e.props),s.arrow?l?a.arrow!==s.arrow&&(c.removeChild(l),c.appendChild(pr(s.arrow))):c.appendChild(pr(s.arrow)):l&&c.removeChild(l)}return{popper:t,onUpdate:i}}$r.$$tippy=!0;var Fi=1,ut=[],xt=[];function qi(e,t){var r=lr(e,Object.assign({},Q,Nr(sr(t)))),n,i,a,s=!1,u=!1,c=!1,p=!1,l,g,w,m=[],y=ar(Qe,r.interactiveDebounce),b,O=Fi++,A=null,C=Ci(r.plugins),L={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},o={id:O,reference:e,popper:Ie(),popperInstance:A,props:r,state:L,plugins:C,clearDelayTimeouts:nt,setProps:it,setContent:at,show:qr,hide:zr,hideWithInteractivity:Xr,enable:Ke,disable:rt,unmount:Yr,destroy:Jr};if(!r.render)return o;var E=r.render(o),v=E.popper,S=E.onUpdate;v.setAttribute("data-tippy-root",""),v.id="tippy-"+o.id,o.popper=v,e._tippy=o,v._tippy=o;var R=C.map(function(f){return f.fn(o)}),B=e.hasAttribute("aria-expanded");return Te(),ee(),$(),K("onCreate",[o]),r.showOnCreate&&_e(),v.addEventListener("mouseenter",function(){o.props.interactive&&o.state.isVisible&&o.clearDelayTimeouts()}),v.addEventListener("mouseleave",function(){o.props.interactive&&o.props.trigger.indexOf("mouseenter")>=0&&U().addEventListener("mousemove",y)}),o;function k(){var f=o.props.touch;return Array.isArray(f)?f:[f,0]}function _(){return k()[0]==="hold"}function P(){var f;return!!((f=o.props.render)!=null&&f.$$tippy)}function M(){return b||e}function U(){var f=M().parentNode;return f?Pi(f):document}function F(){return kt(v)}function N(f){return o.state.isMounted&&!o.state.isVisible||re.isTouch||l&&l.type==="focus"?0:bt(o.props.delay,f?0:1,Q.delay)}function $(f){f===void 0&&(f=!1),v.style.pointerEvents=o.props.interactive&&!f?"":"none",v.style.zIndex=""+o.props.zIndex}function K(f,d,h){if(h===void 0&&(h=!0),R.forEach(function(x){x[f]&&x[f].apply(x,d)}),h){var T;(T=o.props)[f].apply(T,d)}}function Z(){var f=o.props.aria;if(f.content){var d="aria-"+f.content,h=v.id,T=Se(o.props.triggerTarget||e);T.forEach(function(x){var I=x.getAttribute(d);if(o.state.isVisible)x.setAttribute(d,I?I+" "+h:h);else{var z=I&&I.replace(h,"").trim();z?x.setAttribute(d,z):x.removeAttribute(d)}})}}function ee(){if(!(B||!o.props.aria.expanded)){var f=Se(o.props.triggerTarget||e);f.forEach(function(d){o.props.interactive?d.setAttribute("aria-expanded",o.state.isVisible&&d===M()?"true":"false"):d.removeAttribute("aria-expanded")})}}function he(){U().removeEventListener("mousemove",y),ut=ut.filter(function(f){return f!==y})}function te(f){if(!(re.isTouch&&(c||f.type==="mousedown"))){var d=f.composedPath&&f.composedPath()[0]||f.target;if(!(o.props.interactive&&ur(v,d))){if(Se(o.props.triggerTarget||e).some(function(h){return ur(h,d)})){if(re.isTouch||o.state.isVisible&&o.props.trigger.indexOf("click")>=0)return}else K("onClickOutside",[o,f]);o.props.hideOnClick===!0&&(o.clearDelayTimeouts(),o.hide(),u=!0,setTimeout(function(){u=!1}),o.state.isMounted||fe())}}}function ge(){c=!0}function se(){c=!1}function G(){var f=U();f.addEventListener("mousedown",te,!0),f.addEventListener("touchend",te,we),f.addEventListener("touchstart",se,we),f.addEventListener("touchmove",ge,we)}function fe(){var f=U();f.removeEventListener("mousedown",te,!0),f.removeEventListener("touchend",te,we),f.removeEventListener("touchstart",se,we),f.removeEventListener("touchmove",ge,we)}function Ee(f,d){Ae(f,function(){!o.state.isVisible&&v.parentNode&&v.parentNode.contains(v)&&d()})}function ue(f,d){Ae(f,d)}function Ae(f,d){var h=F().box;function T(x){x.target===h&&(Ot(h,"remove",T),d())}if(f===0)return d();Ot(h,"remove",g),Ot(h,"add",T),g=T}function pe(f,d,h){h===void 0&&(h=!1);var T=Se(o.props.triggerTarget||e);T.forEach(function(x){x.addEventListener(f,d,h),m.push({node:x,eventType:f,handler:d,options:h})})}function Te(){_()&&(pe("touchstart",je,{passive:!0}),pe("touchend",Ze,{passive:!0})),Ti(o.props.trigger).forEach(function(f){if(f!=="manual")switch(pe(f,je),f){case"mouseenter":pe("mouseleave",Ze);break;case"focus":pe(Hi?"focusout":"blur",Be);break;case"focusin":pe("focusout",Be);break}})}function Ge(){m.forEach(function(f){var d=f.node,h=f.eventType,T=f.handler,x=f.options;d.removeEventListener(h,T,x)}),m=[]}function je(f){var d,h=!1;if(!(!o.state.isEnabled||Re(f)||u)){var T=((d=l)==null?void 0:d.type)==="focus";l=f,b=f.currentTarget,ee(),!o.state.isVisible&&Li(f)&&ut.forEach(function(x){return x(f)}),f.type==="click"&&(o.props.trigger.indexOf("mouseenter")<0||s)&&o.props.hideOnClick!==!1&&o.state.isVisible?h=!0:_e(f),f.type==="click"&&(s=!h),h&&!T&&ye(f)}}function Qe(f){var d=f.target,h=M().contains(d)||v.contains(d);if(!(f.type==="mousemove"&&h)){var T=de().concat(v).map(function(x){var I,z=x._tippy,Ce=(I=z.popperInstance)==null?void 0:I.state;return Ce?{popperRect:x.getBoundingClientRect(),popperState:Ce,props:r}:null}).filter(Boolean);ji(T,f)&&(he(),ye(f))}}function Ze(f){var d=Re(f)||o.props.trigger.indexOf("click")>=0&&s;if(!d){if(o.props.interactive){o.hideWithInteractivity(f);return}ye(f)}}function Be(f){o.props.trigger.indexOf("focusin")<0&&f.target!==M()||o.props.interactive&&f.relatedTarget&&v.contains(f.relatedTarget)||ye(f)}function Re(f){return re.isTouch?_()!==f.type.indexOf("touch")>=0:!1}function et(){tt();var f=o.props,d=f.popperOptions,h=f.placement,T=f.offset,x=f.getReferenceClientRect,I=f.moveTransition,z=P()?kt(v).arrow:null,Ce=x?{getBoundingClientRect:x,contextElement:x.contextElement||M()}:e,Ft={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(ot){var De=ot.state;if(P()){var Gr=F(),yt=Gr.box;["placement","reference-hidden","escaped"].forEach(function(st){st==="placement"?yt.setAttribute("data-placement",De.placement):De.attributes.popper["data-popper-"+st]?yt.setAttribute("data-"+st,""):yt.removeAttribute("data-"+st)}),De.attributes.popper={}}}},be=[{name:"offset",options:{offset:T}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!I}},Ft];P()&&z&&be.push({name:"arrow",options:{element:z,padding:3}}),be.push.apply(be,d?.modifiers||[]),o.popperInstance=xi(Ce,v,Object.assign({},d,{placement:h,onFirstUpdate:w,modifiers:be}))}function tt(){o.popperInstance&&(o.popperInstance.destroy(),o.popperInstance=null)}function ce(){var f=o.props.appendTo,d,h=M();o.props.interactive&&f===_r||f==="parent"?d=h.parentNode:d=Kr(f,[h]),d.contains(v)||d.appendChild(v),o.state.isMounted=!0,et()}function de(){return dt(v.querySelectorAll("[data-tippy-root]"))}function _e(f){o.clearDelayTimeouts(),f&&K("onTrigger",[o,f]),G();var d=N(!0),h=k(),T=h[0],x=h[1];re.isTouch&&T==="hold"&&x&&(d=x),d?n=setTimeout(function(){o.show()},d):o.show()}function ye(f){if(o.clearDelayTimeouts(),K("onUntrigger",[o,f]),!o.state.isVisible){fe();return}if(!(o.props.trigger.indexOf("mouseenter")>=0&&o.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(f.type)>=0&&s)){var d=N(!1);d?i=setTimeout(function(){o.state.isVisible&&o.hide()},d):a=requestAnimationFrame(function(){o.hide()})}}function Ke(){o.state.isEnabled=!0}function rt(){o.hide(),o.state.isEnabled=!1}function nt(){clearTimeout(n),clearTimeout(i),cancelAnimationFrame(a)}function it(f){if(!o.state.isDestroyed){K("onBeforeUpdate",[o,f]),Ge();var d=o.props,h=lr(e,Object.assign({},d,sr(f),{ignoreAttributes:!0}));o.props=h,Te(),d.interactiveDebounce!==h.interactiveDebounce&&(he(),y=ar(Qe,h.interactiveDebounce)),d.triggerTarget&&!h.triggerTarget?Se(d.triggerTarget).forEach(function(T){T.removeAttribute("aria-expanded")}):h.triggerTarget&&e.removeAttribute("aria-expanded"),ee(),$(),S&&S(d,h),o.popperInstance&&(et(),de().forEach(function(T){requestAnimationFrame(T._tippy.popperInstance.forceUpdate)})),K("onAfterUpdate",[o,f])}}function at(f){o.setProps({content:f})}function qr(){var f=o.state.isVisible,d=o.state.isDestroyed,h=!o.state.isEnabled,T=re.isTouch&&!o.props.touch,x=bt(o.props.duration,0,Q.duration);if(!(f||d||h||T)&&!M().hasAttribute("disabled")&&(K("onShow",[o],!1),o.props.onShow(o)!==!1)){if(o.state.isVisible=!0,P()&&(v.style.visibility="visible"),$(),G(),o.state.isMounted||(v.style.transition="none"),P()){var I=F(),z=I.box,Ce=I.content;wt([z,Ce],0)}w=function(){var be;if(!(!o.state.isVisible||p)){if(p=!0,v.offsetHeight,v.style.transition=o.props.moveTransition,P()&&o.props.animation){var gt=F(),ot=gt.box,De=gt.content;wt([ot,De],x),fr([ot,De],"visible")}Z(),ee(),or(xt,o),(be=o.popperInstance)==null||be.forceUpdate(),K("onMount",[o]),o.props.animation&&P()&&ue(x,function(){o.state.isShown=!0,K("onShown",[o])})}},ce()}}function zr(){var f=!o.state.isVisible,d=o.state.isDestroyed,h=!o.state.isEnabled,T=bt(o.props.duration,1,Q.duration);if(!(f||d||h)&&(K("onHide",[o],!1),o.props.onHide(o)!==!1)){if(o.state.isVisible=!1,o.state.isShown=!1,p=!1,s=!1,P()&&(v.style.visibility="hidden"),he(),fe(),$(!0),P()){var x=F(),I=x.box,z=x.content;o.props.animation&&(wt([I,z],T),fr([I,z],"hidden"))}Z(),ee(),o.props.animation?P()&&Ee(T,o.unmount):o.unmount()}}function Xr(f){U().addEventListener("mousemove",y),or(ut,y),y(f)}function Yr(){o.state.isVisible&&o.hide(),o.state.isMounted&&(tt(),de().forEach(function(f){f._tippy.unmount()}),v.parentNode&&v.parentNode.removeChild(v),xt=xt.filter(function(f){return f!==o}),o.state.isMounted=!1,K("onHidden",[o]))}function Jr(){o.state.isDestroyed||(o.clearDelayTimeouts(),o.unmount(),Ge(),delete e._tippy,o.state.isDestroyed=!0,K("onDestroy",[o]))}}function Ye(e,t){t===void 0&&(t={});var r=Q.plugins.concat(t.plugins||[]);_i();var n=Object.assign({},t,{plugins:r}),i=ki(e),a=i.reduce(function(s,u){var c=u&&qi(u,n);return c&&s.push(c),s},[]);return ht(e)?a[0]:a}Ye.defaultProps=Q;Ye.setDefaultProps=Vi;Ye.currentInput=re;Object.assign({},Tr,{effect:function(t){var r=t.state,n={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(r.elements.popper.style,n.popper),r.styles=n,r.elements.arrow&&Object.assign(r.elements.arrow.style,n.arrow)}});Ye.setDefaultProps({render:$r});var zi=(e=>(e[e.Layout=0]="Layout",e[e.Chord=1]="Chord",e[e.Setting=2]="Setting",e))(zi||{});const Xi=Qr("changes",[]),Ut=vt(Xi,e=>{const t={layout:[new Map,new Map,new Map],chords:new Map,settings:new Map};for(const r of e)switch(r.type){case 0:t.layout[r.layer].set(r.id,r.action);break;case 1:t.chords.set(JSON.stringify(r.id),{actions:r.actions,phrase:r.phrase,deleted:r.deleted??!1});break;case 2:t.settings.set(r.id,r.setting);break}return t}),ya=vt([Ut,Zr],([e,t])=>t.map((r,n)=>({value:e.settings.get(n)??r,isApplied:!e.settings.has(n)}))),ba=vt([Ut,en],([e,t])=>t.map((r,n)=>r.map((i,a)=>({action:e.layout[n].get(a)??i,isApplied:!e.layout[n].has(a)})))),wa=vt([Ut,tn],([e,t])=>{const r=new Set(e.chords.keys()),n=t.map(i=>{const a=JSON.stringify(i.actions);if(e.chords.has(a)){r.delete(a);const s=e.chords.get(a);return{id:i.actions,sortBy:i.phrase.map(u=>qt[u]?.id??u).join(),actions:s.actions,phrase:s.phrase,actionsChanged:a!==JSON.stringify(s.actions),phraseChanged:JSON.stringify(i.phrase)!==JSON.stringify(s.phrase),isApplied:!1,deleted:s.deleted}}else return{id:i.actions,sortBy:i.phrase.map(s=>qt[s]?.id??s).join(),actions:i.actions,phrase:i.phrase,phraseChanged:!1,actionsChanged:!1,isApplied:!0,deleted:!1}});for(const i of r){const a=e.chords.get(i);n.push({sortBy:"",isApplied:!1,actionsChanged:!0,phraseChanged:!1,deleted:a.deleted,id:JSON.parse(i),phrase:a.phrase,actions:a.actions})}return n.sort(({sortBy:i},{sortBy:a})=>i.localeCompare(a))});function vr(e,t,r){const n=e.slice();return n[2]=t[r],n}function mr(e){let t,r;return{c(){t=jt("p"),r=new sn(!1),this.h()},l(n){t=Bt(n,"P",{class:!0});var i=Rt(t);r=fn(i,!1),i.forEach(ve),this.h()},h(){r.a=null,un(t,"class","svelte-18gg13o")},m(n,i){Ve(n,t,i),r.m(e[0],t)},p(n,i){i&1&&r.p(n[0])},d(n){n&&ve(t)}}}function hr(e){let t,r=Yt(e[1].split("+")),n=[];for(let i=0;i<r.length;i+=1)n[i]=gr(vr(e,r,i));return{c(){t=jt("kbd");for(let i=0;i<n.length;i+=1)n[i].c()},l(i){t=Bt(i,"KBD",{});var a=Rt(t);for(let s=0;s<n.length;s+=1)n[s].l(a);a.forEach(ve)},m(i,a){Ve(i,t,a);for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(t,null)},p(i,a){if(a&2){r=Yt(i[1].split("+"));let s;for(s=0;s<r.length;s+=1){const u=vr(i,r,s);n[s]?n[s].p(u,a):(n[s]=gr(u),n[s].c(),n[s].m(t,null))}for(;s<n.length;s+=1)n[s].d(1);n.length=r.length}},d(i){i&&ve(t),cn(n,i)}}}function gr(e){let t,r=e[2]+"",n;return{c(){t=jt("kbd"),n=ln(r)},l(i){t=Bt(i,"KBD",{});var a=Rt(t);n=pn(a,r),a.forEach(ve)},m(i,a){Ve(i,t,a),dn(t,n)},p(i,a){a&2&&r!==(r=i[2]+"")&&vn(n,r)},d(i){i&&ve(t)}}}function Yi(e){let t,r,n=e[0]&&mr(e),i=e[1]&&hr(e);return{c(){n&&n.c(),t=an(),i&&i.c(),r=zt()},l(a){n&&n.l(a),t=on(a),i&&i.l(a),r=zt()},m(a,s){n&&n.m(a,s),Ve(a,t,s),i&&i.m(a,s),Ve(a,r,s)},p(a,[s]){a[0]?n?n.p(a,s):(n=mr(a),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null),a[1]?i?i.p(a,s):(i=hr(a),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null)},i:Xt,o:Xt,d(a){a&&(ve(t),ve(r)),n&&n.d(a),i&&i.d(a)}}}function Ji(e,t,r){let{title:n}=t,{shortcut:i}=t;return e.$$set=a=>{"title"in a&&r(0,n=a.title),"shortcut"in a&&r(1,i=a.shortcut)},[n,i]}class Gi extends hn{constructor(t){super(),gn(this,t,Ji,Yi,nn,{title:0,shortcut:1})}}var Et=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function At(e,t,r,n){e.addEventListener?e.addEventListener(t,r,n):e.attachEvent&&e.attachEvent("on".concat(t),function(){r(window.event)})}function Ir(e,t){for(var r=t.slice(0,t.length-1),n=0;n<r.length;n++)r[n]=e[r[n].toLowerCase()];return r}function Vr(e){typeof e!="string"&&(e=""),e=e.replace(/\s/g,"");for(var t=e.split(","),r=t.lastIndexOf("");r>=0;)t[r-1]+=",",t.splice(r,1),r=t.lastIndexOf("");return t}function Qi(e,t){for(var r=e.length>=t.length?e:t,n=e.length>=t.length?t:e,i=!0,a=0;a<r.length;a++)n.indexOf(r[a])===-1&&(i=!1);return i}var Fe={backspace:8,"⌫":8,tab:9,clear:12,enter:13,"↩":13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"⇪":20,",":188,".":190,"/":191,"`":192,"-":Et?173:189,"=":Et?61:187,";":Et?59:186,"'":222,"[":219,"]":221,"\\":220},oe={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,cmd:91,command:91},Pt={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},H={16:!1,18:!1,17:!1,91:!1},j={};for(var ct=1;ct<20;ct++)Fe["f".concat(ct)]=111+ct;var D=[],yr=!1,Wr="all",Ur=[],Je=function(t){return Fe[t.toLowerCase()]||oe[t.toLowerCase()]||t.toUpperCase().charCodeAt(0)},Zi=function(t){return Object.keys(Fe).find(function(r){return Fe[r]===t})},ea=function(t){return Object.keys(oe).find(function(r){return oe[r]===t})};function Fr(e){Wr=e||"all"}function qe(){return Wr||"all"}function ta(){return D.slice(0)}function ra(){return D.map(function(e){return Zi(e)||ea(e)||String.fromCharCode(e)})}function na(){var e=[];return Object.keys(j).forEach(function(t){j[t].forEach(function(r){var n=r.key,i=r.scope,a=r.mods,s=r.shortcut;e.push({scope:i,shortcut:s,mods:a,keys:n.split("+").map(function(u){return Je(u)})})})}),e}function ia(e){var t=e.target||e.srcElement,r=t.tagName,n=!0;return(t.isContentEditable||(r==="INPUT"||r==="TEXTAREA"||r==="SELECT")&&!t.readOnly)&&(n=!1),n}function aa(e){return typeof e=="string"&&(e=Je(e)),D.indexOf(e)!==-1}function oa(e,t){var r,n;e||(e=qe());for(var i in j)if(Object.prototype.hasOwnProperty.call(j,i))for(r=j[i],n=0;n<r.length;)r[n].scope===e?r.splice(n,1):n++;qe()===e&&Fr(t||"all")}function sa(e){var t=e.keyCode||e.which||e.charCode,r=D.indexOf(t);if(r>=0&&D.splice(r,1),e.key&&e.key.toLowerCase()==="meta"&&D.splice(0,D.length),(t===93||t===224)&&(t=91),t in H){H[t]=!1;for(var n in oe)oe[n]===t&&(ne[n]=!1)}}function fa(e){if(typeof e>"u")Object.keys(j).forEach(function(s){return delete j[s]});else if(Array.isArray(e))e.forEach(function(s){s.key&&Tt(s)});else if(typeof e=="object")e.key&&Tt(e);else if(typeof e=="string"){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=r[0],a=r[1];typeof i=="function"&&(a=i,i=""),Tt({key:e,scope:i,method:a,splitKey:"+"})}}var Tt=function(t){var r=t.key,n=t.scope,i=t.method,a=t.splitKey,s=a===void 0?"+":a,u=Vr(r);u.forEach(function(c){var p=c.split(s),l=p.length,g=p[l-1],w=g==="*"?"*":Je(g);if(j[w]){n||(n=qe());var m=l>1?Ir(oe,p):[];j[w]=j[w].filter(function(y){var b=i?y.method===i:!0;return!(b&&y.scope===n&&Qi(y.mods,m))})}})};function br(e,t,r,n){if(t.element===n){var i;if(t.scope===r||t.scope==="all"){i=t.mods.length>0;for(var a in H)Object.prototype.hasOwnProperty.call(H,a)&&(!H[a]&&t.mods.indexOf(+a)>-1||H[a]&&t.mods.indexOf(+a)===-1)&&(i=!1);(t.mods.length===0&&!H[16]&&!H[18]&&!H[17]&&!H[91]||i||t.shortcut==="*")&&(t.keys=[],t.keys=t.keys.concat(D),t.method(e,t)===!1&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0)))}}}function wr(e,t){var r=j["*"],n=e.keyCode||e.which||e.charCode;if(ne.filter.call(this,e)){if((n===93||n===224)&&(n=91),D.indexOf(n)===-1&&n!==229&&D.push(n),["ctrlKey","altKey","shiftKey","metaKey"].forEach(function(y){var b=Pt[y];e[y]&&D.indexOf(b)===-1?D.push(b):!e[y]&&D.indexOf(b)>-1?D.splice(D.indexOf(b),1):y==="metaKey"&&e[y]&&D.length===3&&(e.ctrlKey||e.shiftKey||e.altKey||(D=D.slice(D.indexOf(b))))}),n in H){H[n]=!0;for(var i in oe)oe[i]===n&&(ne[i]=!0);if(!r)return}for(var a in H)Object.prototype.hasOwnProperty.call(H,a)&&(H[a]=e[Pt[a]]);e.getModifierState&&!(e.altKey&&!e.ctrlKey)&&e.getModifierState("AltGraph")&&(D.indexOf(17)===-1&&D.push(17),D.indexOf(18)===-1&&D.push(18),H[17]=!0,H[18]=!0);var s=qe();if(r)for(var u=0;u<r.length;u++)r[u].scope===s&&(e.type==="keydown"&&r[u].keydown||e.type==="keyup"&&r[u].keyup)&&br(e,r[u],s,t);if(n in j){for(var c=0;c<j[n].length;c++)if((e.type==="keydown"&&j[n][c].keydown||e.type==="keyup"&&j[n][c].keyup)&&j[n][c].key){for(var p=j[n][c],l=p.splitKey,g=p.key.split(l),w=[],m=0;m<g.length;m++)w.push(Je(g[m]));w.sort().join("")===D.sort().join("")&&br(e,p,s,t)}}}}function ua(e){return Ur.indexOf(e)>-1}function ne(e,t,r){D=[];var n=Vr(e),i=[],a="all",s=document,u=0,c=!1,p=!0,l="+",g=!1;for(r===void 0&&typeof t=="function"&&(r=t),Object.prototype.toString.call(t)==="[object Object]"&&(t.scope&&(a=t.scope),t.element&&(s=t.element),t.keyup&&(c=t.keyup),t.keydown!==void 0&&(p=t.keydown),t.capture!==void 0&&(g=t.capture),typeof t.splitKey=="string"&&(l=t.splitKey)),typeof t=="string"&&(a=t);u<n.length;u++)e=n[u].split(l),i=[],e.length>1&&(i=Ir(oe,e)),e=e[e.length-1],e=e==="*"?"*":Je(e),e in j||(j[e]=[]),j[e].push({keyup:c,keydown:p,scope:a,mods:i,shortcut:n[u],method:r,key:n[u],splitKey:l,element:s});typeof s<"u"&&!ua(s)&&window&&(Ur.push(s),At(s,"keydown",function(w){wr(w,s)},g),yr||(yr=!0,At(window,"focus",function(){D=[]},g)),At(s,"keyup",function(w){wr(w,s),sa(w)},g))}function ca(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"all";Object.keys(j).forEach(function(r){var n=j[r].filter(function(i){return i.scope===t&&i.shortcut===e});n.forEach(function(i){i&&i.method&&i.method()})})}var Ct={getPressedKeyString:ra,setScope:Fr,getScope:qe,deleteScope:oa,getPressedKeyCodes:ta,getAllKeyCodes:na,isPressed:aa,filter:ia,trigger:ca,unbind:fa,keyMap:Fe,modifier:oe,modifierMap:Pt};for(var Dt in Ct)Object.prototype.hasOwnProperty.call(Ct,Dt)&&(ne[Dt]=Ct[Dt]);if(typeof window<"u"){var la=window.hotkeys;ne.noConflict=function(e){return e&&window.hotkeys===ne&&(window.hotkeys=la),ne},window.hotkeys=ne}const Oa=(e,{title:t,shortcut:r})=>{let n;const i=Ye(e,{arrow:!1,theme:"tooltip",animation:"fade",onShow(a){n??=new Gi({target:a.popper.querySelector(".tippy-content"),props:{title:t,shortcut:r}})},onHidden(){n?.$destroy(),n=void 0}});return r&&e instanceof HTMLElement&&ne(r,function(a){a.preventDefault(),e.click()}),{update(a){t=a.title,r=a.shortcut},destroy(){i.destroy(),ne.unbind(r)}}},Or=rn(new Map);async function xr(){const e=await navigator.keyboard.getLayoutMap(),t=mn(Or);(e.size!==t.size||[...e.keys()].some(r=>e.get(r)!==t.get(r)))&&Or.set(e)}function xa(){if("keyboard"in navigator){xr();const e=setInterval(xr,5e3);return()=>clearInterval(e)}else return console.warn("Keyboard API not supported"),()=>{}}export{zi as C,wa as a,Oa as b,Xi as c,Or as d,ba as l,Ut as o,xa as r,ya as s,Ye as t};
//# sourceMappingURL=os-layout.7df58f56.js.map
