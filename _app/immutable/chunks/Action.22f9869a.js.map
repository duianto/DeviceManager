{"version":3,"file":"Action.22f9869a.js","sources":["../../../../../../src/lib/components/Action.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import {KEYMAP_CODES} from \"$lib/serial/keymap-codes\"\n  import type {KeyInfo} from \"$lib/serial/keymap-codes\"\n  import {action as title} from \"$lib/title\"\n  import {osLayout} from \"$lib/os-layout\"\n  import LL from \"../../i18n/i18n-svelte\"\n\n  export let action: number | KeyInfo\n  export let display: \"inline-keys\" | \"keys\" = \"inline-keys\"\n\n  $: info = typeof action === \"number\" ? KEYMAP_CODES[action] ?? {code: action} : action\n  $: dynamicMapping = info.keyCode && $osLayout.get(info.keyCode)\n\n  $: tooltip =\n    (info.title ?? info.id ?? `0x${info.code.toString(16)}`) +\n    (info.variant === \"left\" ? \" (left)\" : info.variant === \"right\" ? \" (right)\" : \"\")\n</script>\n\n{#if dynamicMapping}\n  <span\n    use:title={{title: $LL.actionSearch.LIVE_LAYOUT_INFO()}}\n    class=\"dynamic\"\n    class:left={info.variant === \"left\"}\n    class:right={info.variant === \"right\"}\n    class:inline={display === \"inline-keys\"}>{dynamicMapping}</span\n  >\n{:else if display === \"keys\"}\n  <kbd\n    class:icon={!!info.icon}\n    class:left={info.variant === \"left\"}\n    class:right={info.variant === \"right\"}\n    use:title={{title: tooltip}}\n  >\n    {info.icon ?? info.display ?? info.id ?? `0x${info.code.toString(16)}`}\n  </kbd>\n{:else if display === \"inline-keys\"}\n  {#if !info.icon && info.id?.length === 1}\n    <span class:left={info.variant === \"left\"} class:right={info.variant === \"right\"}>{info.id}</span>\n  {:else}\n    <kbd\n      class=\"inline-kbd\"\n      class:left={info.variant === \"left\"}\n      class:right={info.variant === \"right\"}\n      class:icon={!!info.icon}\n      use:title={{title: tooltip}}\n    >\n      {info.icon ?? info.display ?? info.id ?? `0x${info.code.toString(16)}`}</kbd\n    >\n  {/if}\n{/if}\n\n<style lang=\"scss\">\n  kbd:not(.inline-kbd) {\n    height: 24px;\n    padding-block: auto;\n    transition: color 250ms ease;\n  }\n\n  .left {\n    border-left-width: 3px;\n  }\n  .right {\n    border-right-width: 3px;\n  }\n\n  .dynamic {\n    padding: 4px;\n    border-radius: 1px;\n    min-width: 8px;\n    background: var(--md-sys-color-surface-variant);\n\n    &.inline {\n      padding: 0px;\n    }\n  }\n\n  .inline-kbd {\n    margin-inline-end: 2px;\n  }\n\n  :global(span) + .inline-kbd {\n    margin-inline-start: 2px;\n  }\n</style>\n"],"names":["ctx","create_if_block_3","t_value","toggle_class","kbd","insert_hydration","target","anchor","dispose","action_destroyer","title_action","title","dirty","set_data","t","is_function","span","create_if_block","create_if_block_1","create_if_block_2","action","$$props","display","$$invalidate","info","KEYMAP_CODES","dynamicMapping","$osLayout","tooltip"],"mappings":"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"}