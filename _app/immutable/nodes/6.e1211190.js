import{s as J,e as re,i as S,y as b,d as g,K as fe,A as j,U as F,V as G,W as U,h as R,j as _,k as D,v as V,w as he,M as Ke,l as _e,m as de,n as Be,x as H,z as Ce,X as ce,r as W,p as Ve,f as Z,a as me,g as Q,c as pe,C as ke,E as Xe,Q as $e,T as ve}from"../chunks/scheduler.780b4b73.js";import{S as x,i as ee,g as Te,t as q,c as Re,a as I,b as te,d as ne,m as oe,e as se}from"../chunks/index.2808127b.js";import{h as be,u as je,s as Fe,g as Ye}from"../chunks/share.204248f3.js";import{l as ye,d as Ge,b as qe,c as Ue,C as We,t as He}from"../chunks/os-layout.7df58f56.js";import{_ as ue}from"../chunks/preload-helper.a4192956.js";import{e as Y}from"../chunks/each.75920ee7.js";import{c as Ze,s as Qe}from"../chunks/connection.d00f3c10.js";import{A as Je,S as xe}from"../chunks/SharePopup.2386d7d1.js";import{a as et}from"../chunks/keymap-codes.618d0a5c.js";import{a as tt}from"../chunks/share-url.4f533277.js";import{w as nt}from"../chunks/index.c4cb2da7.js";function ot(t){const e={name:t.name,size:[0,0],keys:[]};let s=0;for(const{row:n,offset:l}of t.col){let r=l?.[0]??0;s+=l?.[1]??0;let o=0;for(const a of n){const[c,i]=a.offset||[0,0],u=a.rotate||0;if("key"in a){const[f,h]=a.size??[1,1];e.keys.push({id:a.key,shape:"square",size:[f,h],pos:[r+c,s+i],cornerRadius:.1,rotate:u}),r+=f+c,o=Math.max(o,h+i)}else if("switch"in a){const f=r+c+1,h=s+i+1;for(const[y,m]of[a.switch.s,a.switch.w,a.switch.n,a.switch.e].entries())e.keys.push({id:m,shape:"quarter-circle",cornerRadius:0,size:[2,.6],pos:[f,h],rotate:90*y+45});e.keys.push({id:a.switch.d,shape:"square",cornerRadius:.5,size:[.8,.8],pos:[r+.6+c,s+.6+i],rotate:0}),r+=2+c,o=Math.max(o,2+i)}}s+=o,e.size[0]=Math.max(e.size[0],r)}return e.size[1]=s,e}function we(t,e,s){const n=t.slice();n[15]=e[s],n[31]=s;const l=n[6][n[31]][n[0].id]??{action:0,isApplied:!0};n[16]=l.action,n[17]=l.isApplied;const r=et[n[16]]??{code:n[16]};n[18]=r.code,n[19]=r.icon,n[20]=r.id,n[21]=r.display,n[22]=r.title,n[23]=r.keyCode,n[24]=r.variant;const o=n[23]&&n[7].get(n[23]);n[25]=o;const a=(n[22]??n[20]??`0x${n[18].toString(16)}`)+(n[24]==="left"?" (left)":n[24]==="right"?" (right)":"");n[26]=a;const c=n[31]===n[8];n[27]=c;const i=[Math.sign(n[2][0])*(Math.abs(n[2][0])-n[10]*3)*n[15][0],Math.sign(n[2][1])*(Math.abs(n[2][1])-n[10]*3)*n[15][1]];n[28]=i;const u=!n[25]&&!!n[19];return n[29]=u,n}function Me(t){let e=(t[25]||t[19]||t[21]||t[20]||`0x${t[18].toString(16)}`)+"",s;return{c(){s=_e(e)},l(n){s=de(n,e)},m(n,l){S(n,s,l)},p(n,l){l[0]&193&&e!==(e=(n[25]||n[19]||n[21]||n[20]||`0x${n[18].toString(16)}`)+"")&&Be(s,e)},d(n){n&&g(s)}}}function ze(t){let e,s;return{c(){e=G("tspan"),s=_e("•")},l(n){e=U(n,"tspan",{});var l=R(e);s=de(l,"•"),l.forEach(g)},m(n,l){S(n,e,l),V(e,s)},d(n){n&&g(e)}}}function Le(t){let e,s,n,l,r,o,a,c,i,u,f=`${t[4]}deg`,h,y,m=t[18]!==0&&Me(t),d=!t[17]&&ze();return{c(){e=G("text"),m&&m.c(),s=re(),d&&d.c(),this.h()},l(M){e=U(M,"text",{fill:!0,"font-weight":!0,"text-anchor":!0,"alignment-baseline":!0,x:!0,y:!0,"font-size":!0,"font-family":!0,opacity:!0,class:!0});var k=R(e);m&&m.l(k),s=re(),d&&d.l(k),k.forEach(g),this.h()},h(){_(e,"fill",n=t[17]?"currentcolor":"var(--md-sys-color-primary)"),_(e,"font-weight",l=t[17]?"":"bold"),_(e,"text-anchor","middle"),_(e,"alignment-baseline","central"),_(e,"x",r=t[3][0]+t[2][0]+(t[17]?0:t[9]/3)),_(e,"y",o=t[3][1]+t[2][1]),_(e,"font-size",a=t[1]*(t[29]?t[13]:t[9])),_(e,"font-family",c=t[29]?"Material Symbols Rounded":void 0),_(e,"opacity",i=t[27]?1:t[11]),_(e,"class","svelte-3b2jj1"),D(e,"scale",t[27]?1:t[12]),D(e,"translate",t[27]?"0 0 0":`${t[28][0].toPrecision(2)}px ${t[28][1].toPrecision(2)}px 0`),D(e,"rotate",f)},m(M,k){S(M,e,k),m&&m.m(e,null),V(e,s),d&&d.m(e,null),h||(y=he(u=qe.call(null,e,{title:t[26]})),h=!0)},p(M,k){t=M,t[18]!==0?m?m.p(t,k):(m=Me(t),m.c(),m.m(e,s)):m&&(m.d(1),m=null),t[17]?d&&(d.d(1),d=null):d||(d=ze(),d.c(),d.m(e,null)),k[0]&65&&n!==(n=t[17]?"currentcolor":"var(--md-sys-color-primary)")&&_(e,"fill",n),k[0]&65&&l!==(l=t[17]?"":"bold")&&_(e,"font-weight",l),k[0]&77&&r!==(r=t[3][0]+t[2][0]+(t[17]?0:t[9]/3))&&_(e,"x",r),k[0]&12&&o!==(o=t[3][1]+t[2][1])&&_(e,"y",o),k[0]&195&&a!==(a=t[1]*(t[29]?t[13]:t[9]))&&_(e,"font-size",a),k[0]&193&&c!==(c=t[29]?"Material Symbols Rounded":void 0)&&_(e,"font-family",c),k[0]&256&&i!==(i=t[27]?1:t[11])&&_(e,"opacity",i),u&&Ke(u.update)&&k[0]&65&&u.update.call(null,{title:t[26]}),k[0]&256&&D(e,"scale",t[27]?1:t[12]),k[0]&292&&D(e,"translate",t[27]?"0 0 0":`${t[28][0].toPrecision(2)}px ${t[28][1].toPrecision(2)}px 0`),k[0]&16&&f!==(f=`${t[4]}deg`)&&D(e,"rotate",f)},d(M){M&&g(e),m&&m.d(),d&&d.d(),h=!1,y()}}}function st(t){let e,s=Y(t[5]),n=[];for(let l=0;l<s.length;l+=1)n[l]=Le(we(t,s,l));return{c(){for(let l=0;l<n.length;l+=1)n[l].c();e=re()},l(l){for(let r=0;r<n.length;r+=1)n[r].l(l);e=re()},m(l,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(l,r);S(l,e,r)},p(l,r){if(r[0]&16383){s=Y(l[5]);let o;for(o=0;o<s.length;o+=1){const a=we(l,s,o);n[o]?n[o].p(a,r):(n[o]=Le(a),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=s.length}},i:b,o:b,d(l){l&&g(e),fe(n,l)}}}function it(t,e,s){let n,l,r;j(t,ye,v=>s(6,n=v)),j(t,Ge,v=>s(7,l=v));const{fontSize:o,margin:a,inactiveOpacity:c,inactiveScale:i,iconFontSize:u}=F("visual-layout-config"),f=F("active-layer");j(t,f,v=>s(8,r=v));let{key:h}=e,{fontSizeMultiplier:y=1}=e,{middle:m}=e,{pos:d}=e,{rotate:M}=e,{positions:k}=e;return t.$$set=v=>{"key"in v&&s(0,h=v.key),"fontSizeMultiplier"in v&&s(1,y=v.fontSizeMultiplier),"middle"in v&&s(2,m=v.middle),"pos"in v&&s(3,d=v.pos),"rotate"in v&&s(4,M=v.rotate),"positions"in v&&s(5,k=v.positions)},[h,y,m,d,M,k,n,l,r,o,a,c,i,u,f]}class Oe extends x{constructor(e){super(),ee(this,e,it,st,J,{key:0,fontSizeMultiplier:1,middle:2,pos:3,rotate:4,positions:5},null,[-1,-1])}}function at(t){const e=t.slice(),s=e[7]/2;e[12]=s;const n=e[3]/2-e[7];e[13]=n;const l=e[13]-e[12];e[14]=l;const r=e[13]-e[2]+e[12]*2;e[15]=r;const o=e[15]-e[12];e[16]=o;const a=1.25;e[17]=a;const c=(e[1].rotate+45)*(Math.PI/180);e[18]=c;const i=Math.round((Math.abs(Math.cos(e[18]-Math.PI/2))+Number.EPSILON)*100)/100;e[19]=i;const u=Math.round((Math.abs(Math.sin(e[18]-Math.PI/2))+Number.EPSILON)*100)/100;e[20]=u;const f=e[13]-(e[13]-e[15])/2;e[21]=f;const h=Math.cos(e[18])*e[21];e[22]=h;const y=Math.sin(e[18])*e[21];return e[23]=y,e}function lt(t){let e,s,n=`rotateZ(${t[1].rotate}deg) translate(${t[12]}px, ${t[12]}px)`,l,r;return l=new Oe({props:{key:t[1],middle:[t[22],t[23]],pos:[t[5],t[4]],rotate:0,fontSizeMultiplier:t[17],positions:[[-t[20],-t[19]],[-t[19],-t[20]],[t[19],t[20]]]}}),{c(){e=G("path"),te(l.$$.fragment),this.h()},l(o){e=U(o,"path",{d:!0,class:!0}),R(e).forEach(g),ne(l.$$.fragment,o),this.h()},h(){_(e,"d",s="M"+(t[5]+t[14])+","+t[4]+" a"+t[13]+","+t[13]+" 0 0,1 "+-t[14]+","+t[14]+" l0,"+-(t[14]-t[16])+" a"+t[15]+","+t[15]+" 0 0,0 "+t[16]+","+-t[16]+"z"),_(e,"class","svelte-ct6ehu"),D(e,"transform",n)},m(o,a){S(o,e,a),oe(l,o,a),r=!0},p(o,a){(!r||a&60&&s!==(s="M"+(o[5]+o[14])+","+o[4]+" a"+o[13]+","+o[13]+" 0 0,1 "+-o[14]+","+o[14]+" l0,"+-(o[14]-o[16])+" a"+o[15]+","+o[15]+" 0 0,0 "+o[16]+","+-o[16]+"z"))&&_(e,"d",s),a&2&&n!==(n=`rotateZ(${o[1].rotate}deg) translate(${o[12]}px, ${o[12]}px)`)&&D(e,"transform",n);const c={};a&2&&(c.key=o[1]),a&14&&(c.middle=[o[22],o[23]]),a&48&&(c.pos=[o[5],o[4]]),a&2&&(c.positions=[[-o[20],-o[19]],[-o[19],-o[20]],[o[19],o[20]]]),l.$set(c)},i(o){r||(I(l.$$.fragment,o),r=!0)},o(o){q(l.$$.fragment,o),r=!1},d(o){o&&g(e),se(l,o)}}}function rt(t){let e,s,n,l,r,o,a,c;return a=new Oe({props:{key:t[1],middle:[t[3]/2,t[2]/2],pos:[t[5],t[4]],rotate:-t[1].rotate,positions:[[-1,1],[-1,-1],[1,-1]]}}),{c(){e=G("rect"),te(a.$$.fragment),this.h()},l(i){e=U(i,"rect",{x:!0,y:!0,rx:!0,width:!0,height:!0,"stroke-width":!0,class:!0}),R(e).forEach(g),ne(a.$$.fragment,i),this.h()},h(){_(e,"x",s=t[5]+t[7]),_(e,"y",n=t[4]+t[7]),_(e,"rx",l=t[1].cornerRadius*t[6]),_(e,"width",r=t[3]-t[7]*2),_(e,"height",o=t[2]-t[7]*2),_(e,"stroke-width",t[8]),_(e,"class","svelte-ct6ehu")},m(i,u){S(i,e,u),oe(a,i,u),c=!0},p(i,u){(!c||u&32&&s!==(s=i[5]+i[7]))&&_(e,"x",s),(!c||u&16&&n!==(n=i[4]+i[7]))&&_(e,"y",n),(!c||u&2&&l!==(l=i[1].cornerRadius*i[6]))&&_(e,"rx",l),(!c||u&8&&r!==(r=i[3]-i[7]*2))&&_(e,"width",r),(!c||u&4&&o!==(o=i[2]-i[7]*2))&&_(e,"height",o);const f={};u&2&&(f.key=i[1]),u&12&&(f.middle=[i[3]/2,i[2]/2]),u&48&&(f.pos=[i[5],i[4]]),u&2&&(f.rotate=-i[1].rotate),a.$set(f)},i(i){c||(I(a.$$.fragment,i),c=!0)},o(i){q(a.$$.fragment,i),c=!1},d(i){i&&g(e),se(a,i)}}}function ct(t){let e,s,n,l,r,o,a;const c=[rt,lt],i=[];function u(h,y){return h[1].shape==="square"?0:h[1].shape==="quarter-circle"?1:-1}function f(h,y){return y===1?at(h):h}return~(s=u(t))&&(n=i[s]=c[s](f(t,s))),{c(){e=G("g"),n&&n.c(),this.h()},l(h){e=U(h,"g",{class:!0,role:!0,tabindex:!0});var y=R(e);n&&n.l(y),y.forEach(g),this.h()},h(){_(e,"class","key-group svelte-ct6ehu"),_(e,"role","button"),_(e,"tabindex",l=t[0]+1)},m(h,y){S(h,e,y),~s&&i[s].m(e,null),r=!0,o||(a=[H(e,"click",t[9]),H(e,"keypress",t[10]),H(e,"focusin",t[11])],o=!0)},p(h,[y]){let m=s;s=u(h),s===m?~s&&i[s].p(f(h,s),y):(n&&(Te(),q(i[m],1,1,()=>{i[m]=null}),Re()),~s?(n=i[s],n?n.p(f(h,s),y):(n=i[s]=c[s](f(h,s)),n.c()),I(n,1),n.m(e,null)):n=null),(!r||y&1&&l!==(l=h[0]+1))&&_(e,"tabindex",l)},i(h){r||(I(n),r=!0)},o(h){q(n),r=!1},d(h){h&&g(e),~s&&i[s].d(),o=!1,Ce(a)}}}function ut(t,e,s){let n,l,r,o;const{scale:a,margin:c,strokeWidth:i}=F("visual-layout-config");let{i:u}=e,{key:f}=e;function h(d){ce.call(this,t,d)}function y(d){ce.call(this,t,d)}function m(d){ce.call(this,t,d)}return t.$$set=d=>{"i"in d&&s(0,u=d.i),"key"in d&&s(1,f=d.key)},t.$$.update=()=>{t.$$.dirty&2&&s(5,n=f.pos[0]*a),t.$$.dirty&2&&s(4,l=f.pos[1]*a),t.$$.dirty&2&&s(3,r=f.size[0]*a),t.$$.dirty&2&&s(2,o=f.size[1]*a)},[u,f,o,r,l,n,a,c,i,h,y,m]}class ft extends x{constructor(e){super(),ee(this,e,ut,ct,J,{i:0,key:1})}}function Se(t,e,s){const n=t.slice();return n[17]=e[s],n[19]=s,n}function Ee(t){let e,s;function n(){return t[7](t[17])}function l(){return t[8](t[19])}function r(...o){return t[9](t[19],...o)}return e=new ft({props:{i:t[19],key:t[17]}}),e.$on("focusin",n),e.$on("click",l),e.$on("keypress",r),{c(){te(e.$$.fragment)},l(o){ne(e.$$.fragment,o)},m(o,a){oe(e,o,a),s=!0},p(o,a){t=o;const c={};a&4&&(c.key=t[17]),e.$set(c)},i(o){s||(I(e.$$.fragment,o),s=!0)},o(o){q(e.$$.fragment,o),s=!1},d(o){se(e,o)}}}function ht(t){let e,s,n,l,r,o=Y(t[2].keys),a=[];for(let i=0;i<o.length;i+=1)a[i]=Ee(Se(t,o,i));const c=i=>q(a[i],1,1,()=>{a[i]=null});return{c(){e=G("svg");for(let i=0;i<a.length;i+=1)a[i].c();this.h()},l(i){e=U(i,"svg",{class:!0,viewBox:!0});var u=R(e);for(let f=0;f<a.length;f+=1)a[f].l(u);u.forEach(g),this.h()},h(){_(e,"class","print svelte-1nciqmp"),_(e,"viewBox",s="0 0 "+t[2].size[0]*t[3]+" "+t[2].size[1]*t[3])},m(i,u){S(i,e,u);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(e,null);t[10](e),n=!0,l||(r=H(window,"keydown",t[4]),l=!0)},p(i,[u]){if(u&37){o=Y(i[2].keys);let f;for(f=0;f<o.length;f+=1){const h=Se(i,o,f);a[f]?(a[f].p(h,u),I(a[f],1)):(a[f]=Ee(h),a[f].c(),I(a[f],1),a[f].m(e,null))}for(Te(),f=o.length;f<a.length;f+=1)c(f);Re()}(!n||u&4&&s!==(s="0 0 "+i[2].size[0]*i[3]+" "+i[2].size[1]*i[3]))&&_(e,"viewBox",s)},i(i){if(!n){for(let u=0;u<o.length;u+=1)I(a[u]);n=!0}},o(i){a=a.filter(Boolean);for(let u=0;u<a.length;u+=1)q(a[u]);n=!1},d(i){i&&g(e),fe(a,i),t[10](null),l=!1,r()}}}function Pe(t){return[t.pos[0]+t.size[0]/2,t.pos[1]+t.size[1]/2]}function _t(t,e,s){let n;const{scale:l,margin:r,strokeWidth:o,fontSize:a,iconFontSize:c}=F("visual-layout-config"),i=F("active-layer");let{visualLayout:u}=e;function f(p,w){const O=p.pos[0]+r,C=p.pos[1]+r,N=O+p.size[0]-r,E=C+p.size[1]-r,P=w.pos[0]+r,T=w.pos[1]+r,z=P+w.size[0]-r,A=T+w.size[1]-r,L=z<O,K=N<P,B=A<C,X=E<T;return X&&L?Math.sqrt((O-z)**2+(E-T)**2):L&&B?Math.sqrt((O-z)**2+(C-A)**2):B&&K?Math.sqrt((N-P)**2+(C-A)**2):K&&X?Math.sqrt((N-P)**2+(E-T)**2):L?O-z:K?P-N:B?C-A:X?T-E:0}function h(p){if(p.altKey||p.ctrlKey||p.shiftKey||p.metaKey)return;let w;const O=Math.PI;if(p.key==="ArrowUp")w=Math.PI;else if(p.key==="ArrowDown")w=0;else if(p.key==="ArrowRight")w=Math.PI/2;else if(p.key==="ArrowLeft")w=-Math.PI/2;else return;p.preventDefault(),m||d.firstChild.focus();const[C,N]=Pe(m);let E=1/0,P=0,T=!1;for(const[A,L]of n.keys.entries()){if(L===m)continue;const[K,B]=Pe(L),X=K-C,ie=B-N,ae=Math.atan2(X,ie),le=f(L,m),$=Math.abs(w-ae);(T?$>Number.EPSILON:$>=O)||le>E||(E=le,P=A,T=$<=Number.EPSILON)}const z=d.children.item(P);z instanceof SVGGElement&&z.focus()}function y(p){const w=n.keys[p],O=d.children.item(p),C=W(ye)[W(i)][w.id],N=W(Ze)[W(i)][w.id],E=new Je({target:document.body,props:{currentAction:N,nextAction:C.isApplied?void 0:C.action}}),P=document.querySelector("dialog > div"),T=document.querySelector("dialog"),z=P.getBoundingClientRect(),A=O.getBoundingClientRect(),L=.5,K=`${1-L*(1-A.width/z.width)} ${1-L*(1-A.height/z.height)}`,B=`${L*(A.x-z.x)}px ${L*(A.y-z.y)}px`,ie={duration:150,easing:"ease"},ae=P.animate([{scale:K,translate:B},{translate:"0 0",scale:"1"}],ie),le=T.animate([{opacity:0},{opacity:1}],ie);async function $(){ae.reverse(),le.reverse(),await ae.finished,E.$destroy()}E.$on("close",$),E.$on("select",({detail:De})=>{Ue.update(ge=>(ge.push({type:We.Layout,id:w.id,layer:W(i),action:De}),ge)),$()})}let m,d;const M=p=>s(0,m=p),k=p=>y(p),v=(p,{key:w})=>{w==="Enter"&&y(p)};function Ne(p){Ve[p?"unshift":"push"](()=>{d=p,s(1,d)})}return t.$$set=p=>{"visualLayout"in p&&s(6,u=p.visualLayout)},t.$$.update=()=>{t.$$.dirty&64&&s(2,n=ot(u))},[m,d,n,l,h,y,u,M,k,v,Ne]}class dt extends x{constructor(e){super(),ee(this,e,_t,ht,J,{visualLayout:6})}}function Ae(t,e,s){const n=t.slice();return n[8]=e[s][0],n[9]=e[s][1],n[10]=e[s][2],n}function Ie(t){let e,s=t[9]+"",n,l,r,o;function a(){return t[6](t[10])}return{c(){e=Z("button"),n=_e(s),l=me(),this.h()},l(c){e=Q(c,"BUTTON",{class:!0});var i=R(e);n=de(i,s),l=pe(i),i.forEach(g),this.h()},h(){_(e,"class","icon svelte-11vitej"),ke(e,"active",t[1]===t[10])},m(c,i){S(c,e,i),V(e,n),V(e,l),r||(o=[he(qe.call(null,e,{title:t[8],shortcut:`alt+${t[10]+1}`})),H(e,"click",a)],r=!0)},p(c,i){t=c,i&10&&ke(e,"active",t[1]===t[10])},d(c){c&&g(e),r=!1,Ce(o)}}}function mt(t){return{c:b,l:b,m:b,p:b,i:b,o:b,d:b}}function pt(t){let e,s;return e=new dt({props:{visualLayout:t[7]}}),{c(){te(e.$$.fragment)},l(n){ne(e.$$.fragment,n)},m(n,l){oe(e,n,l),s=!0},p(n,l){const r={};l&1&&(r.visualLayout=n[7]),e.$set(r)},i(n){s||(I(e.$$.fragment,n),s=!0)},o(n){q(e.$$.fragment,n),s=!1},d(n){se(e,n)}}}function yt(t){return{c:b,l:b,m:b,p:b,i:b,o:b,d:b}}function gt(t){let e,s,n,l,r,o=Y(t[3]),a=[];for(let i=0;i<o.length;i+=1)a[i]=Ie(Ae(t,o,i));let c={ctx:t,current:null,token:null,hasCatch:!1,pending:yt,then:pt,catch:mt,value:7,blocks:[,,,]};return be(l=t[4][t[0]](),c),{c(){e=Z("div"),s=Z("fieldset");for(let i=0;i<a.length;i+=1)a[i].c();n=me(),c.block.c(),this.h()},l(i){e=Q(i,"DIV",{class:!0});var u=R(e);s=Q(u,"FIELDSET",{class:!0});var f=R(s);for(let h=0;h<a.length;h+=1)a[h].l(f);f.forEach(g),n=pe(u),c.block.l(u),u.forEach(g),this.h()},h(){_(s,"class","svelte-11vitej"),_(e,"class","container svelte-11vitej")},m(i,u){S(i,e,u),V(e,s);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(s,null);V(e,n),c.block.m(e,c.anchor=null),c.mount=()=>e,c.anchor=null,r=!0},p(i,[u]){if(t=i,u&10){o=Y(t[3]);let f;for(f=0;f<o.length;f+=1){const h=Ae(t,o,f);a[f]?a[f].p(h,u):(a[f]=Ie(h),a[f].c(),a[f].m(s,null))}for(;f<a.length;f+=1)a[f].d(1);a.length=o.length}c.ctx=t,u&1&&l!==(l=t[4][t[0]]())&&be(l,c)||je(c,t,u)},i(i){r||(I(c.block),r=!0)},o(i){for(let u=0;u<3;u+=1){const f=c.blocks[u];q(f)}r=!1},d(i){i&&g(e),fe(a,i),c.block.d(),c.token=null,c=null}}}function kt(t,e,s){let n,l,r;j(t,Qe,u=>s(5,l=u));const o=F("active-layer");j(t,o,u=>s(1,r=u));const a=[["Numeric Layer","123",1],["Primary Layer","abc",0],["Function Layer","function",2]],c={ONE:()=>ue(()=>import("../chunks/one.784285a0.js"),[],import.meta.url).then(u=>u.default),LITE:()=>ue(()=>import("../chunks/lite.1a8da75d.js"),[],import.meta.url).then(u=>u.default),X:()=>ue(()=>import("../chunks/103-key.046d6511.js"),[],import.meta.url).then(u=>u.default)},i=u=>Xe(o,r=u,r);return t.$$.update=()=>{t.$$.dirty&32&&s(0,n=l?.device??"ONE")},[n,r,o,a,c,l,i]}class vt extends x{constructor(e){super(),ee(this,e,kt,gt,J,{})}}const{window:bt}=Ye;function wt(t){let e,s,n,l,r,o,a;return l=new vt({}),{c(){e=Z("meta"),s=me(),n=Z("section"),te(l.$$.fragment),this.h()},l(c){const i=$e("svelte-ghuqel",document.head);e=Q(i,"META",{name:!0,content:!0}),i.forEach(g),s=pe(c),n=Q(c,"SECTION",{class:!0});var u=R(n);ne(l.$$.fragment,u),u.forEach(g),this.h()},h(){document.title="Layout Manager - CharaChorder Device Manager",_(e,"name","description"),_(e,"content","Edit your layout"),_(n,"class","svelte-160295n")},m(c,i){V(document.head,e),S(c,s,i),S(c,n,i),oe(l,n,null),r=!0,o||(a=he(Fe.call(null,bt,t[0])),o=!0)},p:b,i(c){r||(I(l.$$.fragment,c),r=!0)},o(c){q(l.$$.fragment,c),r=!1},d(c){c&&(g(s),g(n)),g(e),se(l),o=!1,a()}}}function Mt(t,e,s){let n;j(t,ye,r=>s(1,n=r));async function l(r){const o=new URL(window.location.href);o.searchParams.set("import",await tt({charaVersion:1,type:"layout",device:"one",layout:n.map(c=>c.map(i=>i.action))})),await navigator.clipboard.writeText(o.toString());let a;He(r.target,{onCreate(c){const i=c.popper.querySelector(".tippy-content");a=new xe({target:i})},onHidden(c){c.destroy()},onDestroy(){a.$destroy()}}).show()}return ve("visual-layout-config",{scale:50,inactiveScale:.5,inactiveOpacity:.4,strokeWidth:1,margin:5,fontSize:9,iconFontSize:14}),ve("active-layer",nt(0)),[l]}class Ot extends x{constructor(e){super(),ee(this,e,Mt,wt,J,{})}}export{Ot as component};
//# sourceMappingURL=6.e1211190.js.map
