{"version":3,"file":"9.5f28fb05.js","sources":["../../../../../../src/routes/sandbox/+page.svelte"],"sourcesContent":["<script>\n  let ongoingRequest\n  let resolveRequest\n  let source\n  async function post(channel, args) {\n    while (ongoingRequest) {\n      await ongoingRequest\n    }\n    ongoingRequest = new Promise(resolve => {\n      resolveRequest = resolve\n      source.postMessage([channel, args], \"*\")\n    })\n    ongoingRequest.then(() => {\n      ongoingRequest = undefined\n    })\n    return ongoingRequest\n  }\n\n  window.addEventListener(\"message\", event => {\n    if (\"response\" in event.data) {\n      resolveRequest(event.data.response)\n    } else {\n      source = event.source\n\n      var Action = event.data.actionCodes\n      Object.assign(\n        Action,\n        Object.fromEntries(\n          Object.values(event.data.actionCodes)\n            .filter(it => !!it.id)\n            .map(it => [it.id, it]),\n        ),\n      )\n\n      var Chara = {}\n      for (const fn of event.data.charaChannels) {\n        Chara[fn] = (...args) => post(fn, args)\n      }\n\n      eval(`(async function(){${event.data.script}})()`)\n    }\n  })\n</script>\n"],"names":["channel","args","resolve","it","fn"],"mappings":"mKACM,IAAA,eACA,eACA,sBACW,KAAKA,EAASC,EAAI,MACxB,gBACC,MAAA,eAER,sBAAc,IAAO,QAAQC,GAAO,CAClC,eAAiBA,EACjB,OAAO,YAAW,CAAEF,EAASC,CAAI,EAAG,GAAG,IAEzC,eAAe,KAAI,IAAA,CACjB,eAAiB,SAEZ,eAGT,cAAO,iBAAiB,UAAW,OAAK,IAClC,aAAc,MAAM,KACtB,eAAe,MAAM,KAAK,QAAQ,OAElC,OAAS,MAAM,OAEX,IAAA,OAAS,MAAM,KAAK,YACxB,OAAO,OACL,OACA,OAAO,YACL,OAAO,OAAO,MAAM,KAAK,WAAW,EACjC,OAAOE,GAAQ,CAAA,CAAAA,EAAG,EAAE,EACpB,IAAIA,GAAO,CAAAA,EAAG,GAAIA,CAAE,CAAA,CAAA,CAAA,MAIvB,MAAK,CAAA,EACE,UAAAC,KAAM,MAAM,KAAK,cAC1B,MAAMA,CAAE,EAAQ,IAAAH,IAAS,KAAKG,EAAIH,CAAI,EAGxC,KAA0B,qBAAA,MAAM,KAAK,MAAM,MAAA"}