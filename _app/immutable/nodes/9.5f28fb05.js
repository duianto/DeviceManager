import{s as safe_not_equal}from"../chunks/scheduler.780b4b73.js";import{S as SvelteComponent,i as init}from"../chunks/index.2808127b.js";function instance($$self){let ongoingRequest,resolveRequest,source;async function post(e,n){for(;ongoingRequest;)await ongoingRequest;return ongoingRequest=new Promise(t=>{resolveRequest=t,source.postMessage([e,n],"*")}),ongoingRequest.then(()=>{ongoingRequest=void 0}),ongoingRequest}return window.addEventListener("message",event=>{if("response"in event.data)resolveRequest(event.data.response);else{source=event.source;var Action=event.data.actionCodes;Object.assign(Action,Object.fromEntries(Object.values(event.data.actionCodes).filter(e=>!!e.id).map(e=>[e.id,e])));var Chara={};for(const e of event.data.charaChannels)Chara[e]=(...n)=>post(e,n);eval(`(async function(){${event.data.script}})()`)}}),[]}class Page extends SvelteComponent{constructor(n){super(),init(this,n,instance,null,safe_not_equal,{})}}export{Page as component};
//# sourceMappingURL=9.5f28fb05.js.map
